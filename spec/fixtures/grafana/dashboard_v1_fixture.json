{
  "dashboard": {
    "id": null,
    "uid": "dd13b41b886c",
    "title": "contract-dashboard",
    "tags": [
      "auto-pr",
      "diffdash"
    ],
    "timezone": "browser",
    "schemaVersion": 39,
    "version": 0,
    "refresh": "30s",
    "time": {
      "from": "now-30m",
      "to": "now"
    },
    "templating": {
      "list": [
        {
          "name": "datasource",
          "type": "datasource",
          "query": "prometheus",
          "current": {},
          "options": [],
          "includeAll": false,
          "multi": false,
          "refresh": 1,
          "hide": 0,
          "regex": ""
        },
        {
          "name": "datasource_loki",
          "type": "datasource",
          "query": "loki",
          "current": {},
          "options": [],
          "includeAll": false,
          "multi": false,
          "refresh": 1,
          "hide": 0,
          "regex": "/^(?!.*alert).*/"
        },
        {
          "name": "env",
          "type": "custom",
          "query": "production,staging,development,local",
          "current": {
            "text": "production",
            "value": "production"
          },
          "includeAll": false,
          "multi": false
        },
        {
          "name": "app",
          "type": "query",
          "datasource": {
            "type": "loki",
            "uid": "${datasource_loki}"
          },
          "query": "label_values({app!=\"\"}, app)",
          "refresh": 1,
          "includeAll": false,
          "multi": false,
          "current": {
            "text": "diffdash",
            "value": "diffdash"
          },
          "options": [],
          "sort": 1
        }
      ]
    },
    "panels": [
      {
        "id": 1,
        "type": "text",
        "title": "",
        "gridPos": {
          "x": 0,
          "y": 0,
          "w": 24,
          "h": 2
        },
        "options": {
          "mode": "markdown",
          "content": "**Diffdash** â€” [View PR](https://github.com/rossme/diffdash/tree/contract-dashboard)"
        }
      },
      {
        "id": 2,
        "type": "logs",
        "title": "Log: hello_from_grape_api",
        "description": "Source: V1::Base (app/api/v1/base.rb)",
        "gridPos": {
          "x": 0,
          "y": 3,
          "w": 12,
          "h": 8
        },
        "targets": [
          {
            "datasource": {
              "type": "loki",
              "uid": "${datasource_loki}"
            },
            "expr": "{env=~\"$env\", app=~\"$app\"} |= \"hello_from_grape_api\"",
            "refId": "A"
          }
        ],
        "options": {
          "showTime": true,
          "showLabels": true,
          "showCommonLabels": false,
          "wrapLogMessage": true,
          "prettifyLogMessage": false,
          "enableLogDetails": true,
          "sortOrder": "Descending"
        }
      }
    ],
    "annotations": {
      "list": [
        {
          "name": "Deployments",
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "enable": true,
          "expr": "changes(deploy_timestamp[5m]) > 0",
          "tagKeys": "app,env",
          "titleFormat": "Deploy"
        },
        {
          "name": "PR Deployments",
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "enable": true,
          "expr": "changes(deploy_timestamp{branch=\"contract-dashboard\"}[5m]) > 0",
          "tagKeys": "app,env,branch",
          "titleFormat": "PR Deploy"
        }
      ]
    }
  },
  "folderId": 123,
  "overwrite": true,
  "message": "Auto-generated by diffdash gem"
}